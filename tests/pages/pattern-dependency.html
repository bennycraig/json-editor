<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Pattern Dependency</title>
  <link rel="stylesheet" id="theme-link" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" id="iconlib-link" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
  <script src="../../dist/jsoneditor.js"></script>
</head>
<body>

<div class="container">
  <div class='json-editor-container'></div>
</div>


<script>
  var jsonEditorContainer = document.querySelector('.json-editor-container');
  var depSchema = {
  "title": "An object",
  "type": "object",
  "properties": {
    "fieldOne": {
      "title": "I should be changed to 'foo'",
      "type": "string",
      "enum": ["foo","bar"],
      "default": "bar"
    },
    "depender1": {
      "title": "I depend on fieldOne to be 'foo'",
      "type": "string",
      "enum": ["lorem","ipsum"],
      "options": {
        "dependencies": {
          "fieldOne": "foo"
        }
      }
    },
    "depender2": {
      "title": "I depend on fieldOne to be 'bar'",
      "type": "string",
      "enum": ["dolor", "sit"],
      "options": {
        "dependencies": {
          "fieldOne": "bar"
        }
      }
    }
  }
}
  var schema = {
  "type": "object",
  "title": "Pattern Dependency",
  "required": [
    "ServerName",
    "Cloud"
  ],
  "properties": {
    "ServerName": {
      "type": "string",
      "title": "Server Name",
      "description": "Name of the Server",
      "pattern": "^(AA|BB)-[0-99]{2}$",
      "examples": [
        "AA-01",
        "BB-55"
      ]
    },
    "Cloud": {
      "title": "Cloud",
      "type": "string",
      "description": "Cloud in VMM",
      "options": {
        "dependencies": {
          "ServerName": {
            "pattern": "^(AA)-[0-99]{2}$"
          }
        },
        "enum": [
          "one",
          "two"
        ]
      }
    },
    "Cloud2": {
      "title": "Cloud",
      "type": "string",
      "description": "Cloud in VMM",
      "options": {
        "dependencies": {
          "ServerName": {
            "pattern": "^(BB)-[0-99]{2}$"
          }
        },
        "enum": [
          "three",
          "four"
        ]
      }
    }
  }
}

  var editor = new JSONEditor(jsonEditorContainer, {
    schema: depSchema,
    theme: 'bootstrap4',
    use_default_values: false,
    required_by_default: true,
    show_errors: 'always'
  });

</script>

</body>
</html>
